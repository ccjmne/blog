{%- import "macros/hlpr.html" as hlpr -%}
{%- import "macros/tmpl.html" as tmpl -%}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>~ccjmne</title>
    {%- include "partials/fonts.html" -%}
    {%- block links -%}
    <link rel="stylesheet" href="{{- get_url(path="/shared.css") -}}">
    {%- endblock links -%}
    <link rel="expect" blocking="render" href="#footer">
    <link rel="alternate" type="application/atom+xml" title="rss" href="{{ get_url(path="/atom.xml", trailing_slash=false) }}">
    <script type="speculationrules">{ "prerender": [{ "where": { "href_matches": "/*" }, "eagerness": "eager" }] }</script>
  </head>
  <body>
    {%-   if section      is defined -%} {%- set path = section.path -%}
    {%- elif page         is defined -%} {%- set path = page.path -%}
    {%- elif current_path is defined -%} {%- set path = current_path -%}
    {%- else -%}                         {%- set path = "/" -%} {%- endif -%}
    <header {{ hlpr::vtn(name="header", static=true) -}}>
      <a href="{{ get_url(path="/") }}">        {%- if path == "/" -%}                        <strong>Home</strong>     {%- else -%} Home     {%- endif -%} </a>
      <a href="{{ get_url(path="/posts") }}">    {%- if path is starting_with("/posts") -%}    <strong>Posts</strong>    {%- else -%} Posts    {%- endif -%} </a>
      <a href="{{ get_url(path="/thoughts") }}"> {%- if path is starting_with("/thoughts") -%} <strong>Thoughts</strong> {%- else -%} Thoughts {%- endif -%} </a>
      <a href="{{ get_url(path="/tags") }}">     {%- if path is starting_with("/tags") -%}     <strong>Tags</strong>     {%- else -%} Tags     {%- endif -%} </a>
      {# <a href="{{ get_url(path="/about") }}">    {%- if path is starting_with("/about") -%}    <strong>Meta</strong>     {%- else -%} Meta     {%- endif -%} </a> #}
      <span style="flex-grow: 1"></span>
      <a href="{{ get_url(path="/atom.xml", trailing_slash=false) }}">RSS</a>
    </header>
    <div class="accent-bar" {{ hlpr::vtn(name="accent-bar", static=true) -}}></div>
    {%- block breadcrumb -%}
    <div class="hi" {{ hlpr::vtn(name="breadcrumbs", static=true) -}}>
      <ol class="breadcrumbs">
        {%- set current = section | default(value=page) -%}
        {%- for ancestor in current.ancestors | slice(start=1) -%}
        {%- set section = get_section(path=ancestor) -%}
        <li><a class="breadcrumb-link" href="{{- section.permalink -}}">{{- section.title | markdown(inline=true) | safe -}}</a></li>
        {%- endfor -%}
        <li><span>{{- current.title | markdown(inline=true) | safe -}}</span></li>
      </ol>
    </div>
    {%- endblock breadcrumb -%}
    <main>
      {%- block content -%}
      {%- endblock content -%}
    </main>
    <div class="hi" {{ hlpr::vtn(name="footer", static=true) -}}>
      <footer id="footer">
        &copy; 2025
        <a href="https://github.com/ccjmne">EÃÅric NICOLAS (ccjmne)</a>
        <span>&lt;<a href="mailto:ccjmne@gmail.com">ccjmne@gmail.com</a>&gt;</span>
        <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA</a>
      </footer>
    </div>
  </body>
</html>

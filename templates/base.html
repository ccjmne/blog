{%- import "macros/hlpr.html" as hlpr -%}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>~ccjmne</title>
    {%- include "partials/fonts.html" -%}
    <link rel="stylesheet" href="{{- get_url(path="/style.css") -}}">
    {%- block links -%}
    {%- endblock links -%}
    <link rel="expect" blocking="render" href="#footer">
    <link rel="alternate" type="application/atom+xml" title="rss" href="{{ get_url(path="atom.xml", trailing_slash=false) }}">
    <script type="speculationrules">{ "prerender": [{ "where": { "href_matches": "/*" }, "eagerness": "eager" }] }</script>
  </head>
  <body>
    {# TODO: Disable current header #}
    <header {{ hlpr::vtn(name="header", static=true) -}}>
      <a href="{{ get_url(path="/") }}">Home</a>
      <a href="{{ get_url(path="posts") }}">Posts</a>
      {# <a href="{{ get_url(path="tags") }}">Tags</a> #}
      <a href="{{ get_url(path="thoughts") }}">Thoughts</a>
      {# <a href="{{ get_url(path="about") }}">Meta</a> #}
      <span style="flex-grow: 1"></span>
      <a href="{{ get_url(path="atom.xml", trailing_slash=false) }}">RSS</a>
    </header>
    <div class="accent-bar" {{ hlpr::vtn(name="accent-bar", static=true) -}}></div>
    {%- block breadcrumb -%}
    <div class="hi" {{ hlpr::vtn(name="breadcrumbs", static=true) -}}>
      <ol class="breadcrumbs">
        {%- set current = section | default(value=page) -%}
        {%- for ancestor in current.ancestors | slice(start=1) -%}
        {%- set section = get_section(path=ancestor) -%}
        <li><a class="breadcrumb-link" href="{{- section.permalink -}}">{{- section.title | markdown(inline=true) | safe -}}</a></li>
        {%- endfor -%}
        <li><span>{{- current.title | markdown(inline=true) | safe -}}</span></li>
      </ol>
    </div>
    {%- endblock breadcrumb -%}
    <main>
      {%- block content -%}
      {%- endblock content -%}
    </main>
    <div class="hi" {{ hlpr::vtn(name="footer", static=true) -}}>
      <footer id="footer">
        &copy; 2025
        <a href="https://github.com/ccjmne">EÃÅric NICOLAS (ccjmne)</a>
        <span>&lt;<a href="mailto:ccjmne@gmail.com">ccjmne@gmail.com</a>&gt;</span>
        <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA</a>
      </footer>
    </div>
  </body>
</html>
